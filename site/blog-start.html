<!doctype html><html lang=zh-CN data-theme=light><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=theme-color content="#222" media="(prefers-color-scheme: light)"><meta name=generator content="Hugo 0.148.2"><link rel="shortcut icon" type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=/imgs/icons/favicon_16x16_next.png><link rel=icon type=image/png sizes=32x32 href=/imgs/icons/favicon_32_32_next.png><link rel=apple-touch-icon sizes=180x180 href=/imgs/icons/apple_touch_icon_next.png><meta itemprop=name content="hugo+next搭建blog使用github action自动部署"><meta itemprop=description content="搭建个人博客，记录学习经历。"><meta name=description content="搭建个人博客，记录学习经历。"><meta itemprop=datePublished zgotmplz><meta itemprop=dateModified zgotmplz><meta itemprop=image content="https://zuoer96.github.io/imgs/hugo_next_avatar.jpg"><meta itemprop=keywords content="Hugo,建站"><link type=text/css rel=stylesheet href=https://zuoer96.github.io/js/3rd/font-awesome/6.7.2/css/all.min.css><link type=text/css rel=stylesheet href=https://zuoer96.github.io/js/3rd/animate.css/3.1.1/animate.min.css><link type=text/css rel=stylesheet href=https://zuoer96.github.io/js/3rd/viewerjs/1.11.6/viewer.min.css><link rel=stylesheet href="/css/main.min.css?=1754727096"><style type=text/css>.post-footer hr:after{content:"~ 知止而后有定，定而后能静，静而后能安，安而后能虑，虑而后能得。 ~"}.flinks-list-footer hr:after{content:"~ 知止而后有定，定而后能静，静而后能安，安而后能虑，虑而后能得。 ~"}</style><link rel=stylesheet type=text/css href="/css/custom_style.css?=1754727096"><script type=text/javascript>(function(){localDB={set:function(e,t,n){if(n===0)return;const s=new Date,o=n*864e5,i={value:t,expiry:s.getTime()+o};localStorage.setItem(e,JSON.stringify(i))},get:function(e){const t=localStorage.getItem(e);if(!t)return 0[0];const n=JSON.parse(t),s=new Date;return s.getTime()>n.expiry?(localStorage.removeItem(e),0[0]):n.value}},theme={active:function(){const e=localDB.get("theme");if(e==null)return;theme.toggle(e),window.matchMedia("(prefers-color-scheme: dark)").addListener(function(e){theme.toggle(e.matches?"dark":"light")})},toggle:function(e){document.documentElement.setAttribute("data-theme",e),localDB.set("theme",e,2);const t=document.querySelector("iframe.giscus-frame");if(t){const n={setConfig:{theme:e}};t.contentWindow.postMessage({giscus:n},"https://giscus.app")}}},theme.active()})(window)</script><script type=text/javascript>document.addEventListener("DOMContentLoaded",()=>{var e=document.createElement("script");e.charset="UTF-8",e.src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js",e.async=!1,e.defer=!0,document.head.appendChild(e),e.onload=function(){NexT.utils.fmtBusuanzi()}})</script><title>hugo+next搭建blog使用github action自动部署 - 左耳的世界</title><noscript><link rel=stylesheet href=/css/noscript.css></noscript></head><body itemscope itemtype=http://schema.org/WebPage class=use-motion><div class=headband></div><main class=main><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-brand-container><div class=site-nav-toggle><div class=toggle aria-label role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div></div><div class=site-meta><a href=/ class=brand rel=start><i class=logo-line></i><h1 class=site-title>左耳的世界</h1><i class=logo-line></i></a><p class=site-subtitle itemprop=description>保持微笑</p></div><div class=site-nav-right><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href=/ class=hvr-icon-pulse rel=section><i class="fa fa-home hvr-icon"></i>首页</a></li><li class="menu-item menu-item-about"><a href=/about.html class=hvr-icon-pulse rel=section><i class="fa fa-user hvr-icon"></i>关于</a></li><li class="menu-item menu-item-flinks"><a href=/flinks.html class=hvr-icon-pulse rel=section><i class="fa fa-thumbs-up hvr-icon"></i>友情链接</a></li><li class="menu-item menu-item-archives"><a href=/archives/ class=hvr-icon-pulse rel=section><i class="fa fa-archive hvr-icon"></i>归档
<span class=badge>2</span></a></li><li class="menu-item menu-item-search"><a role=button class="popup-trigger hvr-icon-pulse"><i class="fa fa-search fa-fw hvr-icon"></i>搜索</a></li></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon><i class="fa fa-search"></i></span><div class=search-input-container><input autocomplete=off autocapitalize=off maxlength=80 placeholder=搜索... spellcheck=false type=search class=search-input></div><span class=popup-btn-close role=button><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class=search-result-icon><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div><aside class=sidebar><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>文章目录</li><li class=sidebar-nav-overview>站点概览</li></ul><div class=sidebar-panel-container><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><nav id=TableOfContents><ul><li><a href=#前置环境>前置环境</a><ul><li><a href=#git安装>Git安装</a></li><li><a href=#hugo安装>hugo安装</a></li></ul></li><li><a href=#创建站点>创建站点</a></li><li><a href=#部署站点>部署站点</a></li><li><a href=#双仓github-actions自动部署站点>双仓GitHub Actions自动部署站点</a><ul><li><a href=#仓库结构概览>仓库结构概览</a></li><li><a href=#准备两个仓库>准备两个仓库</a></li><li><a href=#生成-ssh-deploy-key>生成 SSH Deploy Key</a></li><li><a href=#编写-github-actions-workflow>编写 GitHub Actions Workflow</a></li><li><a href=#本地-gitignore-配置保持清洁>本地 <code>.gitignore</code> 配置（保持清洁）</a></li><li><a href=#推送源代码触发构建部署流程>推送源代码，触发构建部署流程</a></li></ul></li><li><a href=#常用命令>常用命令</a><ul><li><a href=#创建新文章>创建新文章</a></li><li><a href=#本地预览>本地预览</a></li><li><a href=#生成静态文件>生成静态文件</a></li></ul></li></ul></nav></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop=author itemscope itemtype=http://schema.org/Person><img class=site-author-image itemprop=image alt=左耳 src=/imgs/img-lazy-loading.gif data-src=/imgs/hugo_next_avatar.jpg><p class=site-author-name itemprop=name>左耳</p><div class=site-description itemprop=description>简单·极客·强大</div></div><div class="site-state-wrap site-overview-item animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/><span class=site-state-item-count>2</span>
<span class=site-state-item-name>日志</span></a></div><div class="site-state-item site-state-categories"><a href=/categories/><span class=site-state-item-count>2</span>
<span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/><span class=site-state-item-count>6</span>
<span class=site-state-item-name>标签</span></a></div></nav></div><div class="links-of-social site-overview-item animated"></div></div></div></div><div id=siteinfo-card-widget class=sidebar-card-widget><div class=item-headline><i class="fas fa-chart-line"></i>
<span>网站资讯</span></div><div class=siteinfo><div class=siteinfo-item><div class=item-name><i class="fa-solid fa-calendar-check"></i>已运行：</div><div class=item-count id=runTimes data-publishdate="2025-08-06 17:28:49 +0800 +0800"></div></div><div class=siteinfo-item><div class=item-name><i class="fas fa fa-user"></i>总访客数：</div><div class=item-count id=busuanzi_value_site_uv><i class="fa fa-sync fa-spin"></i></div></div><div class=siteinfo-item><div class=item-name><i class="fas fa fa-eye"></i>页面浏览：</div><div class=item-count id=busuanzi_value_site_pv><i class="fa fa-sync fa-spin"></i></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-font"></i>总字数：</div><div class=item-count id=wordsCount data-count=1376></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-mug-hot"></i>阅读约：</div><div class=item-count id=readTimes data-times=4></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-clock-rotate-left"></i>最后更新于：</div><div class=item-count id=last-push-date data-lastpushdate="2025-08-08 15:21:01 +0800 +0800"></div></div></div></div></aside><div class=sidebar-dimmer></div></header><div class=tool-buttons><div id=toggle-theme class=button title=深浅模式切换><i class="fas fa-adjust"></i></div><div class=back-to-top role=button title=返回顶部><i class="fa fa-arrow-up"></i>
<span>0%</span></div></div><div class=reading-progress-bar></div><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://zuoer96.github.io/site/blog-start.html><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/hugo_next_avatar.jpg"><meta itemprop=name content="左耳"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="左耳"><meta itemprop=description content="简单·极客·强大"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="hugo+next搭建blog使用github action自动部署"><meta itemprop=description content="搭建个人博客，记录学习经历。"></span><header class=post-header><h1 class=post-title itemprop="name headline">hugo+next搭建blog使用github action自动部署</h1><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-calendar"></i>
</span><span class=post-meta-item-text title=发表于>发表于：
</span><time title="创建时间：2025-08-06 17:28:49 +08:00" itemprop="dateCreated datePublished" datetime="2025-08-06 17:28:49 +0800 +0800">2025-08-06
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-folder-open"></i>
</span><span class=post-meta-item-text title=分类于>分类于：
</span><span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/%E5%BB%BA%E7%AB%99/ itemprop=url rel=index><span itemprop=name>建站</span></a></span></span></div><div class=post-meta-items><span class=post-meta-item title=字数><span class=post-meta-item-icon><i class="fas fa-solid fa-file-word"></i>
</span><span class=post-meta-item-text>字数：</span>
<span>1228</span>
</span><span class=post-meta-item title=阅读><span class=post-meta-item-icon><i class="fas fa-solid fa-clock"></i>
</span><span class=post-meta-item-text>阅读：&ap;</span>
<span>3分钟</span>
</span><span class=post-meta-item title=浏览><span class=post-meta-item-icon><i class="fas fa-solid fa-eye"></i>
</span><span class=post-meta-item-text>浏览：
</span><span id=busuanzi_value_page_pv data-path=/site/blog-start.html><i class="fa fa-sync fa-spin"></i></span></span></div></div></header><div class="post-body autonumber" itemprop=articleBody><p>种下一棵树，最好的时间是十年前，其次就是现在。</p><a id=more></a><h1 id=博客搭建>博客搭建
<a class=header-anchor href=#%e5%8d%9a%e5%ae%a2%e6%90%ad%e5%bb%ba></a></h1><h2 id=前置环境>前置环境
<a class=header-anchor href=#%e5%89%8d%e7%bd%ae%e7%8e%af%e5%a2%83></a></h2><h3 id=git安装>Git安装
<a class=header-anchor href=#git%e5%ae%89%e8%a3%85></a></h3><p>1.去
<a href=https://git-scm.com/ title=官网 rel="noopener external nofollow noreferrer" target=_blank class=exturl>官网
<i class="fa fa-external-link-alt"></i>
</a>下载<code>Download for Windows</code>，双击安装</p><p>2.验证：<code>git --version</code></p><p>3.配置git提交信息</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1>1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git config --global user.name <span class=s2>&#34;你的名字&#34;</span>
</span></span><span class=line><span class=cl>git config --global user.email <span class=s2>&#34;你的邮箱&#34;</span> <span class=c1># 邮箱要和github账户的一致</span></span></span></code></pre></td></tr></table></div></div><p>4.配置github ssh key</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ssh-keygen -t rsa -b <span class=m>4096</span> -C <span class=s2>&#34;your_email@example.com&#34;</span></span></span></code></pre></td></tr></table></div></div><p>打开 GitHub 网站 → 右上角头像 → <strong>Settings</strong> → <strong>SSH and GPG keys</strong> → <strong>New SSH key</strong> → 输入说明，粘贴用户目录下公钥 → 点击 <strong>Add SSH key</strong></p><h3 id=hugo安装>hugo安装
<a class=header-anchor href=#hugo%e5%ae%89%e8%a3%85></a></h3><p>1.去
<a href=https://github.com/gohugoio/hugo/tags title=hugo官网下载hugo_extended_*_Windows-64bit.zip rel="noopener external nofollow noreferrer" target=_blank class=exturl>hugo官网下载hugo_extended_*_Windows-64bit.zip
<i class="fa fa-external-link-alt"></i>
</a>。</p><p>2.解压，将目录配置到环境变量Path</p><p>3.验证：<code>hugo version</code></p><h2 id=创建站点>创建站点
<a class=header-anchor href=#%e5%88%9b%e5%bb%ba%e7%ab%99%e7%82%b9></a></h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1>1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2>2</a>
</span><span class=lnt id=hl-2-3><a class=lnlinks href=#hl-2-3>3</a>
</span><span class=lnt id=hl-2-4><a class=lnlinks href=#hl-2-4>4</a>
</span><span class=lnt id=hl-2-5><a class=lnlinks href=#hl-2-5>5</a>
</span><span class=lnt id=hl-2-6><a class=lnlinks href=#hl-2-6>6</a>
</span><span class=lnt id=hl-2-7><a class=lnlinks href=#hl-2-7>7</a>
</span><span class=lnt id=hl-2-8><a class=lnlinks href=#hl-2-8>8</a>
</span><span class=lnt id=hl-2-9><a class=lnlinks href=#hl-2-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cmd data-lang=cmd><span class=line><span class=cl>hugo new site zuoer
</span></span><span class=line><span class=cl><span class=k>cd</span> zuoer
</span></span><span class=line><span class=cl>git init
</span></span><span class=line><span class=cl>git config --global core.autocrlf true # 【可选】
</span></span><span class=line><span class=cl>git submodule add https://github.com/hugo-next/hugo-theme-next.git themes/hugo-theme-next
</span></span><span class=line><span class=cl><span class=k>copy</span> themes\hugo-theme-next\exampleSite\hugo.yaml .
</span></span><span class=line><span class=cl><span class=k>move</span> hugo.toml hugo.toml.backup
</span></span><span class=line><span class=cl># 拷贝一下 data 、layouts和static三个文件夹内容，放到你站点的根目录下
</span></span><span class=line><span class=cl>hugo server</span></span></code></pre></td></tr></table></div></div><blockquote><p>后续主题版本更新：<code>git submodule update --remote</code></p></blockquote><h2 id=部署站点>部署站点
<a class=header-anchor href=#%e9%83%a8%e7%bd%b2%e7%ab%99%e7%82%b9></a></h2><h2 id=双仓github-actions自动部署站点>双仓GitHub Actions自动部署站点
<a class=header-anchor href=#%e5%8f%8c%e4%bb%93github-actions%e8%87%aa%e5%8a%a8%e9%83%a8%e7%bd%b2%e7%ab%99%e7%82%b9></a></h2><h3 id=仓库结构概览>仓库结构概览
<a class=header-anchor href=#%e4%bb%93%e5%ba%93%e7%bb%93%e6%9e%84%e6%a6%82%e8%a7%88></a></h3><table><thead><tr><th>仓库类型</th><th>用途</th><th>可见性</th></tr></thead><tbody><tr><td>私有仓库 A</td><td>存储 Hugo 源码、NexT 主题等</td><td>私密，仅你可见</td></tr><tr><td>公开仓库 B</td><td>用于部署静态页面</td><td>通过 GitHub Pages 自动发布网站（<code>zuoer96.github.io</code>）</td></tr></tbody></table><h3 id=准备两个仓库>准备两个仓库
<a class=header-anchor href=#%e5%87%86%e5%a4%87%e4%b8%a4%e4%b8%aa%e4%bb%93%e5%ba%93></a></h3><ol><li>在 GitHub 上创建 <strong>私有仓库 A</strong>（例如 <code>myblog-source</code>）。</li><li>创建 <strong>公开仓库 B</strong>，命名为 <code>zuoer96.github.io</code>，用于 GitHub Pages 托管。</li></ol><h3 id=生成-ssh-deploy-key>生成 SSH Deploy Key
<a class=header-anchor href=#%e7%94%9f%e6%88%90-ssh-deploy-key></a></h3><p>在本地终端运行：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ssh-keygen -t ed25519 -C <span class=s2>&#34;1745233303@qq.com&#34;</span> -f deploy_key -N <span class=s2>&#34;&#34;</span></span></span></code></pre></td></tr></table></div></div><p>你会在执行目录下获得私钥 <code>deploy_key</code> 和公钥 <code>deploy_key.pub</code></p><ul><li>将 <strong>私钥内容</strong> (<code>deploy_key</code>) 添加到 <strong>私有源码仓库 A</strong> 的 Settings →
<a href=https://github.com/zuoer96/blog/settings/secrets/actions/new title=Secrets rel="noopener external nofollow noreferrer" target=_blank class=exturl>Secrets
<i class="fa fa-external-link-alt"></i>
</a>中，命名为 <code>ACTIONS_DEPLOY_KEY</code></li><li>将 <strong>公钥内容</strong> (<code>deploy_key.pub</code>) 添加到 <strong>公开仓库 B</strong> 的 Settings →
<a href=https://github.com/zuoer96/zuoer96.github.io/settings/keys title="Deploy keys" rel="noopener external nofollow noreferrer" target=_blank class=exturl>Deploy keys
<i class="fa fa-external-link-alt"></i>
</a>中，选中 <strong>Allow write access</strong> 以允许写入发布内容</li></ul><blockquote><p>注意不要在项目目录下执行，并将生成的key提交到私有库，否则推送的时候，部署会报错。【绝对禁止将私钥提交到版本库】</p></blockquote><h3 id=编写-github-actions-workflow>编写 GitHub Actions Workflow
<a class=header-anchor href=#%e7%bc%96%e5%86%99-github-actions-workflow></a></h3><p>在私有源码仓库 A 中创建 <code>.github/workflows/deploy.yml</code> 并填写以下内容（可以记作笔记模板）</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1> 1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2> 2</a>
</span><span class=lnt id=hl-4-3><a class=lnlinks href=#hl-4-3> 3</a>
</span><span class=lnt id=hl-4-4><a class=lnlinks href=#hl-4-4> 4</a>
</span><span class=lnt id=hl-4-5><a class=lnlinks href=#hl-4-5> 5</a>
</span><span class=lnt id=hl-4-6><a class=lnlinks href=#hl-4-6> 6</a>
</span><span class=lnt id=hl-4-7><a class=lnlinks href=#hl-4-7> 7</a>
</span><span class=lnt id=hl-4-8><a class=lnlinks href=#hl-4-8> 8</a>
</span><span class=lnt id=hl-4-9><a class=lnlinks href=#hl-4-9> 9</a>
</span><span class=lnt id=hl-4-10><a class=lnlinks href=#hl-4-10>10</a>
</span><span class=lnt id=hl-4-11><a class=lnlinks href=#hl-4-11>11</a>
</span><span class=lnt id=hl-4-12><a class=lnlinks href=#hl-4-12>12</a>
</span><span class=lnt id=hl-4-13><a class=lnlinks href=#hl-4-13>13</a>
</span><span class=lnt id=hl-4-14><a class=lnlinks href=#hl-4-14>14</a>
</span><span class=lnt id=hl-4-15><a class=lnlinks href=#hl-4-15>15</a>
</span><span class=lnt id=hl-4-16><a class=lnlinks href=#hl-4-16>16</a>
</span><span class=lnt id=hl-4-17><a class=lnlinks href=#hl-4-17>17</a>
</span><span class=lnt id=hl-4-18><a class=lnlinks href=#hl-4-18>18</a>
</span><span class=lnt id=hl-4-19><a class=lnlinks href=#hl-4-19>19</a>
</span><span class=lnt id=hl-4-20><a class=lnlinks href=#hl-4-20>20</a>
</span><span class=lnt id=hl-4-21><a class=lnlinks href=#hl-4-21>21</a>
</span><span class=lnt id=hl-4-22><a class=lnlinks href=#hl-4-22>22</a>
</span><span class=lnt id=hl-4-23><a class=lnlinks href=#hl-4-23>23</a>
</span><span class=lnt id=hl-4-24><a class=lnlinks href=#hl-4-24>24</a>
</span><span class=lnt id=hl-4-25><a class=lnlinks href=#hl-4-25>25</a>
</span><span class=lnt id=hl-4-26><a class=lnlinks href=#hl-4-26>26</a>
</span><span class=lnt id=hl-4-27><a class=lnlinks href=#hl-4-27>27</a>
</span><span class=lnt id=hl-4-28><a class=lnlinks href=#hl-4-28>28</a>
</span><span class=lnt id=hl-4-29><a class=lnlinks href=#hl-4-29>29</a>
</span><span class=lnt id=hl-4-30><a class=lnlinks href=#hl-4-30>30</a>
</span><span class=lnt id=hl-4-31><a class=lnlinks href=#hl-4-31>31</a>
</span><span class=lnt id=hl-4-32><a class=lnlinks href=#hl-4-32>32</a>
</span><span class=lnt id=hl-4-33><a class=lnlinks href=#hl-4-33>33</a>
</span><span class=lnt id=hl-4-34><a class=lnlinks href=#hl-4-34>34</a>
</span><span class=lnt id=hl-4-35><a class=lnlinks href=#hl-4-35>35</a>
</span><span class=lnt id=hl-4-36><a class=lnlinks href=#hl-4-36>36</a>
</span><span class=lnt id=hl-4-37><a class=lnlinks href=#hl-4-37>37</a>
</span><span class=lnt id=hl-4-38><a class=lnlinks href=#hl-4-38>38</a>
</span><span class=lnt id=hl-4-39><a class=lnlinks href=#hl-4-39>39</a>
</span><span class=lnt id=hl-4-40><a class=lnlinks href=#hl-4-40>40</a>
</span><span class=lnt id=hl-4-41><a class=lnlinks href=#hl-4-41>41</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Hugo Build &amp; Deploy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>main</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>workflow_dispatch</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>build-deploy</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>concurrency</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>group</span><span class=p>:</span><span class=w> </span><span class=l>${{ github.workflow }}-${{ github.ref }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>cancel-in-progress</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Checkout Code</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>submodules</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>fetch-depth</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>lfs</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Setup Hugo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-hugo@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>hugo-version</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;0.148.2&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>extended</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Build Site</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>hugo --minify</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy to GitHub Pages</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>JamesIves/github-pages-deploy-action@v4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>ssh-key</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.ACTIONS_DEPLOY_KEY }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>repository-name</span><span class=p>:</span><span class=w> </span><span class=l>zuoer96/zuoer96.github.io</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>branch</span><span class=p>:</span><span class=w> </span><span class=l>main</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>folder</span><span class=p>:</span><span class=w> </span><span class=l>public</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>single-commit</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>commit-message</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Deploy from source&#34;</span></span></span></code></pre></td></tr></table></div></div><ul><li><code>actions/checkout</code> 支持拉取子模块，方便 NexT 主题加载。</li><li><code>peaceiris/actions-hugo</code> 用于安装 Hugo Extended 并构建网站。</li><li><code>github-pages-deploy-action</code> 使用 deploy key 推送 <code>public/</code> 内容到公开仓库 B</li></ul><h3 id=本地-gitignore-配置保持清洁>本地 <code>.gitignore</code> 配置（保持清洁）
<a class=header-anchor href=#%e6%9c%ac%e5%9c%b0-gitignore-%e9%85%8d%e7%bd%ae%e4%bf%9d%e6%8c%81%e6%b8%85%e6%b4%81></a></h3><p>在私有源码仓库 A 添加 <code>.gitignore</code>，避免误提交生成静态文件：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1>1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>public/
</span></span><span class=line><span class=cl>resources/</span></span></code></pre></td></tr></table></div></div><blockquote><p>这样工作区只保留源码，不包含 <code>public/</code> 输出内容</p></blockquote><h3 id=推送源代码触发构建部署流程>推送源代码，触发构建部署流程
<a class=header-anchor href=#%e6%8e%a8%e9%80%81%e6%ba%90%e4%bb%a3%e7%a0%81%e8%a7%a6%e5%8f%91%e6%9e%84%e5%bb%ba%e9%83%a8%e7%bd%b2%e6%b5%81%e7%a8%8b></a></h3><ol><li>在本地提交 Hugo 源码与 workflow 文件：</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1>1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2>2</a>
</span><span class=lnt id=hl-6-3><a class=lnlinks href=#hl-6-3>3</a>
</span><span class=lnt id=hl-6-4><a class=lnlinks href=#hl-6-4>4</a>
</span><span class=lnt id=hl-6-5><a class=lnlinks href=#hl-6-5>5</a>
</span><span class=lnt id=hl-6-6><a class=lnlinks href=#hl-6-6>6</a>
</span><span class=lnt id=hl-6-7><a class=lnlinks href=#hl-6-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;# blog&#34;</span> &gt;&gt; README.md
</span></span><span class=line><span class=cl>git init
</span></span><span class=line><span class=cl>git add .
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;Init Hugo source + deploy workflow&#34;</span>
</span></span><span class=line><span class=cl>git branch -M main
</span></span><span class=line><span class=cl>git remote add origin git@github.com:zuoer96/blog.git
</span></span><span class=line><span class=cl>git push origin main</span></span></code></pre></td></tr></table></div></div><p>2.GitHub Actions 将自动执行 workflow：构建 Hugo 站点，然后把 <code>public/</code> 内容推送到 <strong>公开 Pages 仓库 B</strong>。</p><p>3.GitHub Pages 使用仓库 B 的 <code>main</code> 分支根目录发布，<code>Build and deployment Source</code>选择<code>Github Actions</code>，几分钟完成部署，访问 <code>https://zuoer96.github.io</code> 即可查看你的网站。(访问调整到历史域名？无痕浏览器试试，可能是浏览器缓存)</p><h2 id=常用命令>常用命令
<a class=header-anchor href=#%e5%b8%b8%e7%94%a8%e5%91%bd%e4%bb%a4></a></h2><p>2.本地项目设置baseURL</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=nx>baseURL</span> <span class=p>=</span> <span class=s2>&#34;https://zuoer96.github.io/&#34;</span></span></span></code></pre></td></tr></table></div></div><h3 id=创建新文章>创建新文章
<a class=header-anchor href=#%e5%88%9b%e5%bb%ba%e6%96%b0%e6%96%87%e7%ab%a0></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>hugo new posts/blog-test.md</span></span></code></pre></td></tr></table></div></div><h3 id=本地预览>本地预览
<a class=header-anchor href=#%e6%9c%ac%e5%9c%b0%e9%a2%84%e8%a7%88></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>hugo server</span></span></code></pre></td></tr></table></div></div><h3 id=生成静态文件>生成静态文件
<a class=header-anchor href=#%e7%94%9f%e6%88%90%e9%9d%99%e6%80%81%e6%96%87%e4%bb%b6></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-10-1><a class=lnlinks href=#hl-10-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>hugo</span></span></code></pre></td></tr></table></div></div></div><footer class=post-footer><div class=post-tags><a href=/tags/hugo/>Hugo
</a><a href=/tags/%E5%BB%BA%E7%AB%99/>建站</a></div><hr><div class=post-nav><div class="post-nav-next post-nav-item"><a href=/post/1-%E6%97%A0%E4%BA%8B%E5%86%99%E6%98%A5%E7%A7%8B/ rel=next title=无事写春秋><i class="fa fa-chevron-left"></i> 无事写春秋</a></div><div class="post-nav-prev post-nav-item"></div></div></footer></article></div></div></main><footer class=footer><div class=footer-inner><div class=copyright>&copy;
<span itemprop=copyrightYear>2025
</span><span class=with-love><i class="fa fa-heartbeat"></i>
</span><span class=author itemprop=copyrightHolder>左耳</span></div></div></footer><script class=next-config data-name=page type=application/json>{"clipboard":{"js":{"alias":"clipboard","file":"dist/clipboard.min.js","name":"clipboard.js","version":"2.0.11"}},"comments":false,"expired":false,"isHome":false,"isPage":true,"path":"blog-start.html","permalink":"https://zuoer96.github.io/site/blog-start.html","title":"hugo+next搭建blog使用github action自动部署","toc":true,"waline":{"commentcnt":{"alias":"@waline/client","alias_name":"waline","file":"dist/comment.js","name":"comment","version":"2.15.8"}}}</script><script type=text/javascript src=https://zuoer96.github.io/js/3rd/animejs/3.2.2/anime.min.js crossorigin=anonymous defer></script><script type=text/javascript src=https://zuoer96.github.io/js/3rd/viewerjs/1.11.6/viewer.min.js crossorigin=anonymous defer></script><script class=next-config data-name=main type=application/json>{"bookmark":{"color":"#222","enable":false,"save":"manual"},"copybtn":true,"darkmode":false,"hostname":"https://zuoer96.github.io/","i18n":{"ds_day":" 天前","ds_days":" 天 ","ds_hour":" 小时前","ds_hours":" 小时 ","ds_just":"刚刚","ds_min":" 分钟前","ds_mins":" 分钟","ds_month":" 个月前","ds_years":" 年 ","empty":"没有找到任何搜索结果：${query}","hits":"找到 ${hits} 个搜索结果","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","placeholder":"搜索..."},"isMultiLang":false,"lang":"zh-CN","lazyload":false,"localSearch":{"enable":true,"limit":1e3,"path":"/searchindexes.xml","preload":false,"topnperarticle":-1,"trigger":"auto","unescape":false},"motion":{"async":true,"enable":true,"transition":{"collheader":"slideInRight","postblock":"fadeIn","postbody":"fadeInDown","postheader":"fadeInDown","sidebar":"fadeInUp"}},"postmeta":{"comments":{"enable":true,"plugin":"waline"},"views":{"enable":true,"plugin":"busuanzi"}},"root":"/","scheme":"Gemini","share":{"addtoany":{"js":"https://static.addtoany.com/menu/page.js","locale":"zh-CN","num":8},"enable":false},"sidebar":{"display":"post","offset":12,"padding":18,"position":"left","width":256},"vendor":{"plugins":"local","router":{"name":"local","type":"modern","url":"https://zuoer96.github.io/js/3rd"}},"version":"4.8.3","waline":{"cfg":{"emoji":false,"imguploader":false,"placeholder":"请文明发言哟 ヾ(≧▽≦*)o","reaction":true,"reactiontext":["点赞","踩一下","得意","不屑","尴尬","睡觉"],"reactiontitle":"你认为这篇文章怎么样？","requiredmeta":["nick","mail"],"serverurl":null,"sofa":"快来发表你的意见吧 (≧∀≦)ゞ","wordlimit":200},"css":{"alias":"@waline/client","file":"dist/waline.css","name":"waline","version":"2.15.8"},"js":{"alias":"@waline/client","file":"dist/waline.js","name":"waline","version":"2.15.8"}}}</script><script type=text/javascript src="/js/main.min.js?=1754727096" defer></script><script type=text/javascript src="/js/clipboard.min.js?=1754727096" defer></script></body></html>